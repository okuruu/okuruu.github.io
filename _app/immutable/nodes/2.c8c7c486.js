import{s as Q,r as W}from"../chunks/scheduler.1b9dbb88.js";import{S as X,i as Y,r as Z,s as A,g as i,m as $,u as tt,c as C,h as u,j as E,y as q,f as g,n as et,k as e,v as st,a as G,x as s,z as M,A as R,B as at,o as rt,d as ot,t as nt,w as lt}from"../chunks/index.c26d52c7.js";import{h as it}from"../chunks/singletons.26b7b890.js";import{T as ut,t as K}from"../chunks/Toaster.fdcdf509.js";const dt=it("goto");function ct(f){let m,r,o,h,a,n,D='<h1 class="fw-bolder">UD . 84!</h1>',I,l,_,v,x="Email",S,d,j,y,w,z="Password",N,c,O,b,L,P,U,H;return m=new ut({}),{c(){Z(m.$$.fragment),r=A(),o=i("div"),h=i("div"),a=i("div"),n=i("div"),n.innerHTML=D,I=A(),l=i("form"),_=i("div"),v=i("label"),v.textContent=x,S=A(),d=i("input"),j=A(),y=i("div"),w=i("label"),w.textContent=z,N=A(),c=i("input"),O=A(),b=i("button"),L=$(f[1]),this.h()},l(t){tt(m.$$.fragment,t),r=C(t),o=u(t,"DIV",{class:!0});var p=E(o);h=u(p,"DIV",{class:!0});var F=E(h);a=u(F,"DIV",{class:!0});var k=E(a);n=u(k,"DIV",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1m4lhcc"&&(n.innerHTML=D),I=C(k),l=u(k,"FORM",{});var T=E(l);_=u(T,"DIV",{class:!0});var V=E(_);v=u(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(v)!=="svelte-npa7zp"&&(v.textContent=x),S=C(V),d=u(V,"INPUT",{type:!0,class:!0,placeholder:!0}),V.forEach(g),j=C(T),y=u(T,"DIV",{class:!0});var B=E(y);w=u(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(w)!=="svelte-5rkg8t"&&(w.textContent=z),N=C(B),c=u(B,"INPUT",{type:!0,class:!0,placeholder:!0}),B.forEach(g),O=C(T),b=u(T,"BUTTON",{type:!0,class:!0});var J=E(b);L=et(J,f[1]),J.forEach(g),T.forEach(g),k.forEach(g),F.forEach(g),p.forEach(g),this.h()},h(){e(n,"class","text-center mb-5"),e(v,"for","inputEmail"),e(v,"class","form-label fw-bold"),e(d,"type","email"),e(d,"class","form-control"),e(d,"placeholder","Email Anda"),d.required=!0,e(_,"class","form-group my-3"),e(w,"for","inputPassword"),e(w,"class","form-label fw-bold"),e(c,"type","password"),e(c,"class","form-control"),e(c,"placeholder","Password Anda"),c.required=!0,e(y,"class","form-group my-3"),e(b,"type","submit"),e(b,"class","btn btn-primary w-100"),b.disabled=f[0],e(a,"class","card-body"),e(h,"class","card shadow-sm"),e(o,"class","d-flex align-items-center justify-content-center vh-100")},m(t,p){st(m,t,p),G(t,r,p),G(t,o,p),s(o,h),s(h,a),s(a,n),s(a,I),s(a,l),s(l,_),s(_,v),s(_,S),s(_,d),M(d,f[2]),s(l,j),s(l,y),s(y,w),s(y,N),s(y,c),M(c,f[3]),s(l,O),s(l,b),s(b,L),P=!0,U||(H=[R(d,"input",f[5]),R(c,"input",f[6]),R(l,"submit",at(f[4]))],U=!0)},p(t,[p]){p&4&&d.value!==t[2]&&M(d,t[2]),p&8&&c.value!==t[3]&&M(c,t[3]),(!P||p&2)&&rt(L,t[1]),(!P||p&1)&&(b.disabled=t[0])},i(t){P||(ot(m.$$.fragment,t),P=!0)},o(t){nt(m.$$.fragment,t),P=!1},d(t){t&&(g(r),g(o)),lt(m,t),U=!1,W(H)}}}function pt(f,m,r){let o=!1,h="Masuk",a,n;async function D(){return r(1,h="Silahkan tunggu"),r(0,o=!0),K.loading("Authenticating..",{position:"top-right",duration:2e3}),(await(await fetch("http://localhost:8080/api/Log-In",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:a,password:n})})).json()).status=="Authenticated"?(r(0,o=!1),dt("/master-produk")):(r(1,h="Masuk"),r(0,o=!1),K.error("Auth failed.",{position:"top-right"}))}function I(){a=this.value,r(2,a)}function l(){n=this.value,r(3,n)}return[o,h,a,n,D,I,l]}class vt extends X{constructor(m){super(),Y(this,m,pt,ct,Q,{})}}export{vt as component};
