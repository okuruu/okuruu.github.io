import{s as Q,r as W}from"../chunks/scheduler.f67085df.js";import{S as X,i as Y,r as Z,s as A,g as i,m as $,u as tt,c as C,h as u,j as E,y as q,f as g,n as et,k as e,v as st,a as G,x as s,z as M,A as x,B as at,o as rt,d as ot,t as nt,w as lt}from"../chunks/index.a8469d9b.js";import{h as it}from"../chunks/singletons.949c5879.js";import{T as ut,t as K}from"../chunks/Toaster.79afda09.js";const dt=it("goto");function ct(m){let h,r,o,_,a,n,k='<h1 class="fw-bolder">UD . 84!</h1>',I,l,v,d,z="Email",S,c,j,y,w,H="Password",N,f,O,b,D,P,U,R;return h=new ut({}),{c(){Z(h.$$.fragment),r=A(),o=i("div"),_=i("div"),a=i("div"),n=i("div"),n.innerHTML=k,I=A(),l=i("form"),v=i("div"),d=i("label"),d.textContent=z,S=A(),c=i("input"),j=A(),y=i("div"),w=i("label"),w.textContent=H,N=A(),f=i("input"),O=A(),b=i("button"),D=$(m[1]),this.h()},l(t){tt(h.$$.fragment,t),r=C(t),o=u(t,"DIV",{class:!0});var p=E(o);_=u(p,"DIV",{class:!0});var F=E(_);a=u(F,"DIV",{class:!0});var L=E(a);n=u(L,"DIV",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1m4lhcc"&&(n.innerHTML=k),I=C(L),l=u(L,"FORM",{});var T=E(l);v=u(T,"DIV",{class:!0});var V=E(v);d=u(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(d)!=="svelte-npa7zp"&&(d.textContent=z),S=C(V),c=u(V,"INPUT",{type:!0,class:!0,placeholder:!0}),V.forEach(g),j=C(T),y=u(T,"DIV",{class:!0});var B=E(y);w=u(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(w)!=="svelte-5rkg8t"&&(w.textContent=H),N=C(B),f=u(B,"INPUT",{type:!0,class:!0,placeholder:!0}),B.forEach(g),O=C(T),b=u(T,"BUTTON",{type:!0,class:!0});var J=E(b);D=et(J,m[1]),J.forEach(g),T.forEach(g),L.forEach(g),F.forEach(g),p.forEach(g),this.h()},h(){e(n,"class","text-center mb-5"),e(d,"for","inputEmail"),e(d,"class","form-label fw-bold"),e(c,"type","email"),e(c,"class","form-control"),e(c,"placeholder","Email Anda"),c.required=!0,e(v,"class","form-group my-3"),e(w,"for","inputPassword"),e(w,"class","form-label fw-bold"),e(f,"type","password"),e(f,"class","form-control"),e(f,"placeholder","Password Anda"),f.required=!0,e(y,"class","form-group my-3"),e(b,"type","submit"),e(b,"class","btn btn-primary w-100"),b.disabled=m[0],e(a,"class","card-body"),e(_,"class","card shadow-sm"),e(o,"class","d-flex align-items-center justify-content-center vh-100")},m(t,p){st(h,t,p),G(t,r,p),G(t,o,p),s(o,_),s(_,a),s(a,n),s(a,I),s(a,l),s(l,v),s(v,d),s(v,S),s(v,c),M(c,m[2]),s(l,j),s(l,y),s(y,w),s(y,N),s(y,f),M(f,m[3]),s(l,O),s(l,b),s(b,D),P=!0,U||(R=[x(c,"input",m[5]),x(f,"input",m[6]),x(l,"submit",at(m[4]))],U=!0)},p(t,[p]){p&4&&c.value!==t[2]&&M(c,t[2]),p&8&&f.value!==t[3]&&M(f,t[3]),(!P||p&2)&&rt(D,t[1]),(!P||p&1)&&(b.disabled=t[0])},i(t){P||(ot(h.$$.fragment,t),P=!0)},o(t){nt(h.$$.fragment,t),P=!1},d(t){t&&(g(r),g(o)),lt(h,t),U=!1,W(R)}}}function ft(m,h,r){let o=!1,_="Masuk",a,n;async function k(){r(1,_="Silahkan tunggu"),r(0,o=!0),K.loading("Authenticating..",{position:"top-right",duration:2e3});const d=await(await fetch("https://esdelfron.deabakery.co.id/api/Log-In",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:a,password:n})})).json();return console.log(d),d.status=="Authenticated"?(r(0,o=!1),dt("/master-produk")):(r(1,_="Masuk"),r(0,o=!1),K.error("Auth failed.",{position:"top-right"}))}function I(){a=this.value,r(2,a)}function l(){n=this.value,r(3,n)}return[o,_,a,n,k,I,l]}class vt extends X{constructor(h){super(),Y(this,h,ft,ct,Q,{})}}export{vt as component};
